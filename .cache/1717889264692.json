{"date":"2024-06-08T23:27:43.770Z","courseId":"17","assignment":"AP-Spring03-CA6","trace":{"version":1399,"content":"#include \"superCommand.hpp\"\n\nPostCommand::PostCommand(vector<Major *> inputMajorVector, vector<Student *> inputStudentVector,\n                         vector<Course *> inputCourseVector, vector<Professor *> inputProfessorVector,\n                         Users *inputDefaultUser, string inputSubCommand, string inputArguments, string inputUserWhoLogged)\n    : SuperCommand(inputMajorVector, inputStudentVector, inputCourseVector, inputProfessorVector, inputDefaultUser)\n{\n    if (!CheckSubCommand(inputSubCommand))\n    {\n        throw ErrorHandler(2);\n    }\n    subCommand = inputSubCommand;\n    stringstream argstream(inputArguments);\n    string temp;\n    while (getline(argstream, temp, ' '))\n    {\n        arguments.push_back(temp);\n    }\n    userWhoLogged = inputUserWhoLogged;\n}\n\nbool PostCommand::CheckSubCommand(string inputSubCommand)\n{\n    for (int i = 0; i < postSubCommandsList.size(); i++)\n    {\n        if (inputSubCommand == postSubCommandsList[i])\n        {\n            return true;\n        }\n    }\n    return false;\n}\n\nvoid PostCommand::RunCommand()\n{\n    if (subCommand == \"login\")\n    {\n        LoginFunc(arguments);\n    }\n    else if (subCommand == \"logout\")\n    {\n        LogoutFunc(arguments);\n    }\n    else if (subCommand == \"post\")\n    {\n        PostFunc(arguments);\n    }\n    else if (subCommand == \"connect\")\n    {\n        ConnectFunc(arguments);\n    }\n    else if (subCommand == \"course_offer\")\n    {\n        // course_offer func\n    }\n}\n\nvoid PostCommand::LoginFunc(vector<string> inputArgs)\n{\n    if (inputArgs.size() != 4)\n    {\n        throw ErrorHandler(3);\n    }\n    string inputID, inputPassword;\n    if (inputArgs[0] == \"id\")\n    {\n        inputID = inputArgs[1];\n        inputPassword = inputArgs[3];\n    }\n    else\n    {\n        inputID = inputArgs[3];\n        inputPassword = inputArgs[1];\n    }\n    CheckLoginCondditions(inputID, inputPassword);\n    userWhoLogged = inputID;\n}\n\nvoid PostCommand::LogoutFunc(vector<string> inputArgs)\n{\n    if (inputArgs.size() != 0)\n    {\n        throw ErrorHandler(3);\n    }\n}\n\nvoid PostCommand::ConnectFunc(vector<string> inputArgs)\n{\n    if (inputArgs.size() != 2)\n    {\n        throw ErrorHandler(3);\n    }\n    int idNum = stoi(inputArgs[1]);\n    if (idNum < 1)\n    {\n        throw ErrorHandler(3);\n    }\n    ConnectUsers(userWhoLogged, inputArgs[1]);\n    ConnectUsers(inputArgs[1], userWhoLogged);\n    cout << \"OK\" << endl;\n}\n\nvoid PostCommand::PostFunc(vector<string> inputArgs)\n{\n    vector<string> localArgs;\n    localArgs.push_back(inputArgs[0]);\n    for (int i = 1 ; i < inputArgs.size() ; i++)\n    {\n        if (inputArgs[i] == \"massage\" || inputArgs[i] == \"title\")\n        {\n            string title = \"\";\n            string massage = \"\";\n            for(int j = 1 ; j < i ; j++)\n            {\n                title += inputArgs[j];\n                title += \" \";\n            }\n            localArgs.push_back(title);\n            localArgs.push_back(inputArgs[i]);\n            for (int k = i+1 ; k < inputArgs.size(); k++)\n            {\n                massage += inputArgs[k];\n                massage += \" \";\n            }\n            localArgs.push_back(massage);\n        }\n    }\n    if (localArgs.size() != 4)\n    {\n        throw ErrorHandler(3);\n    }\n    string postTitle, postMassage;\n    if (localArgs[0] == \"title\")\n    {\n        postTitle = localArgs[1];\n        postMassage = localArgs[3];\n    }\n    else\n    {\n        postTitle = localArgs[3];\n        postMassage = localArgs[1];\n    }\n    AddPostToUserPage(userWhoLogged , postTitle , postMassage);\n    cout << \"OK\" << endl;\n}\n\nvoid PostCommand::CourseOfferFunc(vector<string> inputArgs)\n{\n    if(inputArgs.size() != 12)\n    {\n        throw ErrorHandler(3);\n    }\n    string courseID , professorID , capacity , time , examDate , classNumber;\n}","filename":"/home/rayan/Desktop/clone/AP-FinalPraject/postCommand.cpp","identifier":"Text Change","lineCount":154,"languageId":"cpp"},"failed":false}