{"date":"2024-06-06T15:08:23.176Z","courseId":"17","assignment":"AP-Spring03-CA6","trace":{"version":174,"content":"#include \"main.hpp\"\n\nPostCommand::PostCommand(char *majorsCSV, char *studentsCSV, char *coursesCSV, char *professorsCSV , string inputSubCommand, string inputArguments)\n            :Main(majorsCSV , studentsCSV , coursesCSV , professorsCSV)\n{\n    if (!CheckSubCommand(inputSubCommand))\n    {\n        throw ErrorHandler(2);\n    }\n    subCommand = inputSubCommand;\n    stringstream argstream(inputArguments);\n    string temp;\n    while (getline(argstream, temp, ' '))\n    {\n        arguments.push_back(temp);\n    }\n}\n\nbool PostCommand::CheckSubCommand(string inputSubCommand)\n{\n    for (int i = 0; i < postSubCommandsList.size(); i++)\n    {\n        if (inputSubCommand == postSubCommandsList[i])\n        {\n            return true;\n        }\n    }\n    return false;\n}\n\nvoid PostCommand::RunCommand()\n{\n    if (subCommand == \"login\")\n    {\n        LoginFunc(arguments);\n    }\n    else if (subCommand == \"logout\")\n    {\n        // logout func\n    }\n    else if (subCommand == \"post\")\n    {\n        // post func\n    }\n    else if (subCommand == \"connect\")\n    {\n        // connect func\n    }\n    else if (subCommand == \"course_offer\")\n    {\n        // course_offer func\n    }\n}\n\nvoid PostCommand::LoginFunc(vector<string> inputArgs)\n{\n    if (inputArgs.size() != 4)\n    {\n        throw ErrorHandler(3);\n    }\n    string inputID, inputPassword;\n    if (inputArgs[0] == \"id\")\n    {\n        inputID = inputArgs[1];\n        inputPassword = inputArgs[3];\n    }\n    else\n    {\n        inputID = inputArgs[3];\n        inputPassword = inputArgs[1];\n    }\n    if (!IsUser(inputID))\n    {\n        throw ErrorHandler(2);\n    }\n    if (!IsUserPasswordMatch(inputID , inputPassword))\n    {\n        throw ErrorHandler(4);\n    }\n    if (IsUserLoggedIn(inputID))\n    {\n        throw ErrorHandler(4);\n    }\n    MakeUserLoggedIn(inputID);\n}","filename":"/home/rayan/Desktop/clone/AP-FinalPraject/postCommand.cpp","identifier":"Text Change","lineCount":85,"languageId":"cpp"},"failed":false}